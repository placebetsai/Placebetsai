<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PlaceBets.ai</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <div class="hero">
    <div class="overlay">
      <h1>PlaceBets.ai</h1>
      <p>AI Predictions • Trash Talk • No Bullshit</p>
    </div>
  </div>

  <div class="container">
    <input type="text" id="searchInput" placeholder="Search...">
    <div id="cardContainer">Loading matches...</div>
  </div>

  <!-- Botpress Chat -->
  <script src="https://cdn.botpress.cloud/webchat/v3"></script>
  <script>
    window.botpressWebChat.init({
      configUrl:"https://files.bpcontent.cloud/2025/07/03/19/20250703190713-ODG9KBZT.json",
      botId:"539d8fd6-0467-49c5-ba74-367f2e8ec6cb"
    });
  </script>

  <!-- Google Sheet Integration -->
  <script>
    fetch('https://docs.google.com/spreadsheets/d/1MNtoPhDrCXHaAds0LdkrIzYXLpTLrcZFdjYgYDEFXP8/gviz/tq?tqx=out:json')
      .then(r => r.text())
      .then(t => {
        const js = JSON.parse(t.substring(47).slice(0, -2));
        const rows = js.table.rows;
        const ctn = document.getElementById('cardContainer');
        ctn.innerHTML = '';
        rows.forEach(r => {
          const c = r.c;
          const team1 = c[3]?.v || '';
          const team2 = c[4]?.v || '';
          const logo1 = `logos/${team1.toLowerCase().replace(/\s/g,'')}.png`;
          const logo2 = `logos/${team2.toLowerCase().replace(/\s/g,'')}.png`;

          const card = document.createElement('div');
          card.className = 'match-card';
          card.innerHTML = `
            <div class="teams">
              <img src="${logo1}" onerror="this.src='logos/fallback.svg'">
              <span>${team1}</span><span>vs</span><span>${team2}</span>
              <img src="${logo2}" onerror="this.src='logos/fallback.svg'">
            </div>
            <div class="meta">
              <p><b>Match:</b> ${c[0]?.v||''}</p>
              <p><b>Date/Time:</b> ${c[1]?.v||''} ${c[2]?.v||''}</p>
              <p><b>Odds:</b> ${c[5]?.v||''} – ${c[6]?.v||''}</p>
              <p class="trash">${c[7]?.v||''}</p>
            </div>`;
          ctn.appendChild(card);
        });
      });

    document.getElementById('searchInput').addEventListener('input', e => {
      const f = e.target.value.toLowerCase();
      document.querySelectorAll('.match-card').forEach(card => {
        card.style.display = card.innerText.toLowerCase().includes(f) ? 'block' : 'none';
      });
    });
  </script>
</body>
</html>
