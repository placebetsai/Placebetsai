<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlaceBets.ai</title>
  <meta name="description" content="Unfiltered AI sports predictions with real-time odds and trash talk.">
  <meta name="robots" content="index, follow" />
  <style>
    body { margin:0; font-family:Arial,sans-serif; background:black; color:white; overflow-x:hidden; }
    .matrix-bg { position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:-1; background:black; }
    canvas{display:block;}
    header{position:sticky; top:0; background:black; padding:1rem; display:flex; justify-content:space-between; z-index:1000;}
    .logo{font-size:1.8rem; color:lime;}
    .tagline{color:#ccc;}
    .hamburger{font-size:1.5rem; cursor:pointer;}
    nav{display:none; flex-direction:column; background:#111; padding:1rem;}
    nav a{color:white; text-decoration:none; margin:0.5rem 0;}
    .headline-ticker{overflow-x:auto; white-space:nowrap; padding:0.5rem 1rem; border-top:2px solid lime; border-bottom:2px solid lime;}
    .headline-ticker a{display:inline-block; color:khaki; margin-right:2rem; text-decoration:none; font-weight:bold;}
    input{display:block; margin:1rem auto; width:90%; padding:10px; border-radius:8px;}
    .card{background:#222; margin:1rem; padding:1rem; border-radius:1rem; box-shadow:0 0 10px lime;}
    .card h3{color:yellow;}
    footer{text-align:center; font-size:0.8rem; padding:1rem; background:#111; color:#ccc;}
  </style>
</head>
<body>
  <div class="matrix-bg"><canvas id="matrixCanvas"></canvas></div>

  <header>
    <div>
      <div class="logo">üèÜ PlaceBets.ai</div>
      <div class="tagline">Unfiltered AI Sports Predictions</div>
    </div>
    <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
  </header>

  <nav id="menu">
    <a href="index.html">Home</a>
    <a href="contact.html">Contact Us</a>
  </nav>

  <div class="headline-ticker" id="headlineTicker">Loading headlines...</div>

  <input type="text" id="searchBox" placeholder="Search match, team, or trash talk...">

  <div id="dataContainer"></div>

  <footer>
    All rights reserved. PlaceBets.ai is for entertainment purposes only. ¬© 2025.
  </footer>

  <script>
    const toggleMenu = () => {
      const menu = document.getElementById("menu");
      menu.style.display = menu.style.display === "flex" ? "none" : "flex";
    };

    // Matrix effect
    const canvas = document.getElementById("matrixCanvas"), ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    const fontSize = 14, columns = canvas.width / fontSize;
    const drops = Array.from({ length: columns }).fill(1);
    setInterval(() => {
      ctx.fillStyle = "rgba(0,0,0,0.05)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#0F0";
      ctx.font = fontSize + "px monospace";
      drops.forEach((y, i) => {
        const text = "01".charAt(Math.floor(Math.random() * 2));
        ctx.fillText(text, i * fontSize, y * fontSize);
        drops[i] = y * fontSize > canvas.height && Math.random() > 0.975 ? 0 : y + 1;
      });
    }, 33);

    // Load and display odds from Google Sheet
    fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vSi4uUn3aZCm7GXgr56bGJfoMreV0VZ5BSyv_CYQ3aKHpdFdGreorYKIORil6Vtg4KnIGTuJS5RbdP4/pub?output=csv")
      .then(res => res.text())
      .then(text => {
        const rows = text.trim().split("\n").slice(1);
        const container = document.getElementById("dataContainer");
        rows.forEach(row => {
          const cols = row.split(",");
          if (cols.length < 8) return;
          const [match, date, time, team1, team2, odds1, odds2, trash] = cols;
          container.innerHTML += `
            <div class="card">
              <h3>${match} ‚Äî ${date} @ ${time}</h3>
              <strong>${team1}</strong> <br> Odds: ${formatOdds(odds1)} <br>
              <strong>${team2}</strong> <br> Odds: ${formatOdds(odds2)} <br>
              <em style="color:orange">"${trash}"</em>
            </div>
          `;
        });
      });

    function formatOdds(odd) {
      if (!odd) return "";
      if (odd.trim().startsWith("+") || odd.trim().startsWith("-")) return odd.trim();
      const val = parseFloat(odd);
      return val >= 2 ? `+${Math.round((val - 1) * 100)}` : `-${Math.round(100 / (val - 1))}`;
    }

    // Fetch headlines (ESPN + Wrestling Observer)
    Promise.all([
      fetch("https://api.allorigins.win/raw?url=" + encodeURIComponent("https://www.espn.com/espn/rss/news")).then(r => r.text()),
      fetch("https://api.allorigins.win/raw?url=" + encodeURIComponent("https://www.wrestlingobserver.com/rss/weblog.xml")).then(r => r.text())
    ]).then(([espn, wrest]) => {
      const parse = txt => new window.DOMParser().parseFromString(txt, "application/xml");
      const allItems = [...parse(espn).querySelectorAll("item"), ...parse(wrest).querySelectorAll("item")];
      const ticker = document.getElementById("headlineTicker");
      ticker.innerHTML = "";
      allItems.slice(0, 10).forEach(item => {
        const title = item.querySelector("title").textContent;
        const link = item.querySelector("link").textContent;
        ticker.innerHTML += `<a href="${link}" target="_blank">${title}</a>`;
      });
    }).catch(() => {
      document.getElementById("headlineTicker").innerText = "News failed to load.";
    });
  </script>
</body>
</html>
