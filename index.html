<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PlaceBets.ai - AI Sports Predictions</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    select {
      display: block;
      margin: 0 auto 20px auto;
      padding: 10px;
      font-size: 1rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 40px;
    }
    th, td {
      border: 1px solid #555;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #333;
    }
    .favorite {
      color: #4caf50;
      font-weight: bold;
    }
    .underdog {
      color: #ff9800;
      font-weight: bold;
    }
    .trash {
      font-style: italic;
      font-size: 0.9rem;
      color: #bbb;
    }
    footer {
      text-align: center;
      font-size: 0.75rem;
      color: #999;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>ðŸ”¥ PlaceBets.ai â€“ AI Sports Predictions & Trash Talk</h1>
  <select id="sportFilter">
    <option value="all">All Sports</option>
  </select>
  <table id="eventTable">
    <thead>
      <tr>
        <th>Match</th>
        <th>Date</th>
        <th>Time</th>
        <th>Team 1</th>
        <th>Team 2</th>
        <th>Odds 1</th>
        <th>Odds 2</th>
        <th>Trash Talk</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <footer>
    <strong>Disclaimer:</strong> PlaceBets.ai is an entertainment-only platform providing AI-generated predictions and trash talk for sporting and entertainment events. We do not facilitate or accept real money wagers. Odds and predictions displayed are for informational purposes only and should not be considered betting advice. Use at your own risk. PlaceBets.ai is not affiliated with any sports leagues, organizations, or bookmakers.
  </footer>

  <!-- Botpress Chatbot -->
  <script src="https://cdn.botpress.cloud/webchat/v3"></script>
  <script>
    window.botpressWebChat.init({
      configUrl: "https://files.bpcontent.cloud/2025/07/03/19/20250703190713-ODG9KBZT.json",
      botId: "539d8fd6-0467-49c5-ba74-367f2e8ec6cb"
    });
  </script>

  <!-- CSV Loader -->
  <script>
    const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSi4uUn3aZCm7GXgr56bGJfoMreV0VZ5BSyv_CYQ3aKHpdFdGreorYKIORil6Vtg4KnIGTuJS5RbdP4/pub?output=csv';
    const tableBody = document.querySelector('#eventTable tbody');
    const sportFilter = document.getElementById('sportFilter');
    let allRows = [];

    function parseOdds(value) {
      const num = parseFloat(value);
      if (num >= 2) return '+' + Math.round((num - 1) * 100);
      if (num > 0) return '-' + Math.round(100 / (num - 1));
      return value;
    }

    function detectSport(matchName) {
      const name = matchName.toLowerCase();
      if (name.includes('ufc') || name.includes('mma')) return 'MMA';
      if (name.includes('wwe') || name.includes('aew') || name.includes('njpw')) return 'Wrestling';
      if (name.includes('nba') || name.includes('basketball')) return 'Basketball';
      if (name.includes('nfl') || name.includes('football')) return 'Football';
      if (name.includes('mlb') || name.includes('baseball')) return 'Baseball';
      if (name.includes('soccer') || name.includes('epl') || name.includes('mls')) return 'Soccer';
      if (name.includes('boxing')) return 'Boxing';
      if (name.includes('horse')) return 'Horse Racing';
      return 'Other';
    }

    function populateTable(data) {
      tableBody.innerHTML = '';
      const sportSet = new Set();

      data.forEach(row => {
        const sport = detectSport(row[0]);
        sportSet.add(sport);
        if (sportFilter.value !== 'all' && sport !== sportFilter.value) return;

        const odds1 = parseOdds(row[5]);
        const odds2 = parseOdds(row[6]);

        tableBody.innerHTML += `
          <tr>
            <td>${row[0]}</td>
            <td>${row[1]}</td>
            <td>${row[2]}</td>
            <td>${row[3]}</td>
            <td>${row[4]}</td>
            <td class="${odds1 < odds2 ? 'favorite' : 'underdog'}">${odds1}</td>
            <td class="${odds2 < odds1 ? 'favorite' : 'underdog'}">${odds2}</td>
            <td class="trash">"${row[7]}"</td>
          </tr>
        `;
      });

      // update dropdown
      sportFilter.innerHTML = '<option value="all">All Sports</option>';
      Array.from(sportSet).sort().forEach(s => {
        sportFilter.innerHTML += `<option value="${s}">${s}</option>`;
      });
    }

    fetch(csvUrl)
      .then(res => res.text())
      .then(csv => {
        const rows = csv.trim().split('\n').slice(1).map(r => r.split(','));
        allRows = rows;
        populateTable(allRows);
      });

    sportFilter.addEventListener('change', () => populateTable(allRows));
  </script>
</body>
</html>
